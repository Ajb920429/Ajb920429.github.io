<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <style>
      body{
        background-color: rgba(252, 252, 252, 0.459);
      }

    </style>
    <script>
        
        function idCheck(){
            
            const exp = /^(?=.*[a-z])(?=.*\d)(?=.*[-_])[a-z\d-_]{5,20}$/; 
            
            const id = document.getElementById('id').value
            const result = document.getElementById('id-result')
            if(id.match(exp)){
              result.innerHTML = "유효한 형식입니다"
              result.style.color='red'
                console.log('유효한 형식입니다.')
            }else{
              result.innerHTML = "유효하지 않는 형식입니다."
              result.style.color='red'
                console.log('유효하지 않는 형식입니다.')
                
            }
        }

        function pwCheck(){
            const pw = document.getElementById('pw').value;
            const pwResult = document.getElementById('pw-result')

            console.log('pw값:' ,pw)
            const pwLength = pw.length;
            console.log('pw길이값: ',pwLength)
            
            if(pwLength==0){
                pwResult.innerHTML = '필수항목입니다'
                pwResult.style.color='red'

            }else if(pwLength < 8 || pwLength >20){
                pwResult.innerHTML ='8~20자 이내로 작성해주세요'
                pwResult.style.color='red'
            }else{
                pwResult.innerHTML = '좋습니다.'
                pwResult.style.color ='green'
            }

        }

        function pwConfirm(){
            const pw = document.getElementById('pw').value
            const pwConfirm = document.getElementById('pw-confirm').value
            const pwConfirmResult = document.getElementById('pw-confirm-result')
            console.log(pw)
            console.log(pwConfirm)

            if(pw == pwConfirm){
                pwConfirmResult.innerHTML = '일치합니다'
                pwConfirmResult.style.color = 'green'
            }else{
                pwConfirmResult.innerHTML = '일치하지 않습니다'
                pwConfirmResult.style.color = 'red'
            }

        }

        function emailSelect(){
            const domainSelect = document.getElementById('domainSelect').value
            const domain = document.getElementById('domain');
            domain.value = domainSelect;
        }

        function phoneCheck(){
            const exp = /^\d{3}-\d{4}-\d{4}$/;
            const phone = document.getElementById('phone').value
            const result = document.getElementById('phone-check-result')

            if(phone.match(exp)){
                result.innerHTML = "유효한 형식입니다"
                result.style.color = "green"
            }else{
                result.innerHTML = "유효한 형식이 아닙니다"
                result.style.color = "red"
            }
        }
    </script>
   
  </head>
  <body>
    <div class="container">
      <div class="row mt-5">
        <div class="col-12 text-center">
          <h1>회원가입</h1>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-12">
          <form action="." method="POST">
            <div class="container mb-3">
              아이디:
              <input
                type="text"
                class="form-control"
                id="id"
                onblur="idCheck()"
                placeholder="영문소문자, 숫자 조합하여 6~10글자이내"
              >
            </div>
            <span id="id-result"></span><br>

            <div class="container mb-3">
              비밀번호:
              <input
                type="text"
                class="form-control"
                id="pw"
                placeholder="8~20자리로 입력"
                onblur="pwCheck()"
              />
            </div>
            <span id="pw-result"></span><br>

            <div class="container mb-3">
              <label for="re-password">비밀번호 확인</label>
              <input
                type="text"
                class="form-control width 50px"
                id="pw-confirm"
                onkeyup="pwConfirm()"
                placeholder="비밀번호 한번 더 입력해주세요"
                
              />
            </div>
            <span id="pw-confirm-result"></span><br>
            

            <div class="container mb-2">
              이메일:
              <input  type="text" name="emailId" class="form-control" >@<input type="text"  id="domain" name="domain" class="form-control">
            
            </div>

            <div class="container mb-3">
              <select id="domainSelect" onchange="emailSelect()" >
                <option value="">선택하세요</option>
                <option value="naver.com">네이버</option>
                <option value="gmail.com">지메일</option>
                <option value="daum.net">다음</option>
            </select><br>
            </div>
            

          <div class="container mb-3">
            성별:
            <input class="form-group" type="radio" id="p" name="jointype" value="personal">
            <label for="p">남자</label>
            <input type="radio" id="c" name="jointype" value="commercial">
            <label for="c">여자</label>
          </div>

          <div class="container mb-3">
            전화번호:
            <input type="text" id="phone" onblur="phoneCheck()"><br>
            <span id="phone-check-result"></span><br>




            <body class="container mb-3">
            <input class="form-group" type="text" id="sample6_postcode" placeholder="우편번호">
            <input class="form-group" type="button" onclick="sample6_execDaumPostcode()" value="우편번호 찾기"><br>
            <input class="form-group" type="text" id="sample6_address" placeholder="주소"><br>
            <input class="form-group" type="text" id="sample6_detailAddress" placeholder="상세주소">
            <input class="form-group" type="text" id="sample6_extraAddress" placeholder="참고항목">

            <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
            <script>
                function sample6_execDaumPostcode() {
                    new daum.Postcode({
                        oncomplete: function(data) {
                           
                            var addr = ''; 
                            var extraAddr = ''; 
            
                            
                            if (data.userSelectedType === 'R') { 
                                addr = data.roadAddress;
                            } else { 
                                addr = data.jibunAddress;
                            }
            
                            
                            if(data.userSelectedType === 'R'){
                               
                                if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                                    extraAddr += data.bname;
                                }
                               
                                if(data.buildingName !== '' && data.apartment === 'Y'){
                                    extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                                }
                               
                                if(extraAddr !== ''){
                                    extraAddr = ' (' + extraAddr + ')';
                                }
                                
                                document.getElementById("sample6_extraAddress").value = extraAddr;
                            
                            } else {
                                document.getElementById("sample6_extraAddress").value = '';
                            }
            
                          
                            document.getElementById('sample6_postcode').value = data.zonecode;
                            document.getElementById("sample6_address").value = addr;
                          
                            document.getElementById("sample6_detailAddress").focus();
                        }
                    }).open();
                }
            </script>
        
            
          </div>
          
        </div>
      </div>
    </div>
  </body>
</html>